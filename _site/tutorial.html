<!DOCTYPE html>
<html>

<head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <meta charset="utf-8">
  <title>JoyRest - REST Framework</title>
  <meta name="generator" content="JoyRest"/>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="/css/github-ribbon.css"/>
  <link href="/css/styles.css" rel="stylesheet">
  <link rel="stylesheet" href="/font-awesome/css/font-awesome.min.css">
  <link rel="stylesheet" href="/prism/prism.css">
</head>

<body>

<div class="github-fork-ribbon-wrapper right">
  <div class="github-fork-ribbon">
    <a href="https://github.com/petrbouda/joyrest">Fork me on GitHub</a>
  </div>
</div>

<header class="navbar navbar-default navbar-static-top" role="banner">
  <div class="container">
    <div class="navbar-header">
      <button class="navbar-toggle" type="button" data-toggle="collapse" data-target=".navbar-collapse">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a href="/" class="navbar-brand">JoyRest - REST Framework</a>
    </div>
    <nav class="collapse navbar-collapse" role="navigation">
      <ul class="nav navbar-nav">
        <li>
          <a href="../index.html">Home</a>
        </li>
        <li>
          <a href="../download.html">Download</a>
        </li>
        <li>
          <a href="../tutorial.html">Tutorial</a>
        </li>
        <li>
          <a href="../modules.html">Modules</a>
        </li>
        <li>
          <a href="../integration.html">Integration</a>
        </li>
        <li>
          <a href="../extensions.html">Extensions</a>
        </li>
        <li>
          <a href="#">JavaDoc</a>
        </li>
        <li>
          <a href="../contact.html">Contact</a>
        </li>
        <li>
          <a href="../license.html">License</a>
        </li>
      </ul>
    </nav>
  </div>
</header>

<!-- Begin Body -->
<div class="container">
    <div class="row">
        <div class="col-md-12">
            <div class="alert alert-danger" style="text-align: center" role="alert">
                <span class="alert-link">JoyRest is under the construction! The first release is scheduled for early June.</span>
            </div>
        </div>
        <div class="col-md-3" id="leftCol">

    <div class="well">
        <ul class="nav nav-stacked" id="sidebar">
            <li><a href="#run-sec">How to Run Application</a></li>
            <li><a href="#controller-sec">How to Create Controller and Route</a></li>
            <li><a href="#exception-sec">How to Handle Exception</a></li>
            <li><a href="#rw-sec">How to Create Writer/Reader</a></li>
        </ul>
    </div>

    <ul class="nav nav-stacked" id="github">
    <li><a href="http://www.github.com/petrbouda/joyrest"><i class="fa fa-link" style="color: black"></i>&nbsp;&nbsp;GitHub - JoyRest</a></li>
    <li><a href="https://github.com/petrbouda/joyrest/archive/master.zip"><i class="fa fa-file-text" style="color: black"></i>&nbsp;&nbsp;Download ZIP file</a></li>
    <li><a href="https://github.com/petrbouda/joyrest/archive/master.tar.gz"><i class="fa fa-file-text" style="color: black"></i>&nbsp;&nbsp;Download TAR.GZ file</a></li>
</ul>
</div>
<div class="col-md-9">
    <h3 id="run-sec">How to Run Application</h3>
<pre><code class="language-java">
public class Start {
    public static void main(String... args) throws Exception {
        Configurer configurer = new HK2Configurer();
        ApplicationContext applicationContext = configurer.initialize(new ApplicationBinder());
        GrizzlyServer.start(applicationContext, "/services", 5000);
    }
}
</code></pre>
    <hr>

    <h3 id="controller-sec">How to Create Controller and Route</h3>
    Controllers are configuration classes which provides all information about routes that have something similar to each other. For example
    resource <code>Joke</code> should have one controller configuration with all operations which are available to do with this resource.
    There is one abstract class <code>TypedControllerConfiguration</code> which makes route creation very easy and its usage is shown below.

<pre><code class="language-java">
public class JokeController extends TypedControllerConfiguration {

    @Inject
    private JokeService service;

    get((req, resp) -> {
        List<Joke> jokes = service.getAll();
        resp.entity(jokes);
    }, RespList(Joke.class)).produces(JSON, XML);
}</code></pre>
    <code>TypedControllerConfiguration</code> contains various combinations of HTTP methods to make a route creation as simple as possible.
    <hr>

    <h3 id="exception-sec">How to Handle Exception</h3>
    As well as <code>TypedControllerConfiguration</code> class is determined for creation of routes there is also
    <code>TypedExceptionConfiguration</code> abstract class which makes easy a handling of exceptions occurred during request processing
    (e.g. no suitable route was found for a given request - framework exceptions) or which is thrown in route processing
    (developers exceptions).

<pre><code class="language-java">
public class TestExceptionConfiguration extends TypedExceptionConfiguration {

    @Override
    protected void configure() {
        handle(SomeException.class, (req, resp, ex) -> {
            resp.status(HttpStatus.BAD_REQUEST);
            resp.header(HeaderName.of("x-exception-header"), "error");
            resp.entity(new ErrorResponse("reason", "some description"));
        }, Resp(ErrorResponse.class));
    }
}</code></pre>

    <hr>

    <h3 id="rw-sec">How to Create Writer/Reader</h3>
    <code>Reader</code> and <code>Writer</code> are used to process (marshall or unmarshall) a body of request/response.
    <hr>
</div>

    </div>
</div>

<!-- script references -->
<script src="/js/jquery.min.js"></script>
<script src="/js/bootstrap.min.js"></script>
<script src="/js/scripts.js"></script>
<script src="/prism/prism.js"></script>
</body>
</html>