---
layout: default
---

<div class="col-md-12">
    <h2>How to run JoyRest application</h2>
    <hr/>

    <div class="bs-callout bs-callout-info">
        Main parts of this framework are <code>Configurer</code> and <code>Application Config</code> which is created in a concrete
        dependency injection framework. In the example below it is HK2 DI framework. These two components bootstrap the application
        and create <code>Application Context</code> that contains all needed information about objects which are used to run and
        process request from a server.
    </div>
<pre><code class="language-java">
public class Start {
    public static void main(String... args) throws Exception {
        Configurer configurer = new HK2Configurer();
        ApplicationContext applicationContext = configurer.initialize(new ApplicationBinder());
        GrizzlyServer.start(applicationContext, "/services", 5000);
    }
}</code></pre>

    <p>
        In the snippet shown above you can see <code>GrizzlyServer.start()</code> method:
    </p>

<pre><code class="language-java">
public class GrizzlyServer {

    private static Logger LOG = Logger.getLogger(GrizzlyServer.class.getName());

    public static void start(final ApplicationContext applicationConfig, String path, final int port) {
        try {
            // Logging settings
            InputStream loggingStream = GrizzlyServer.class.getResourceAsStream("/logging.properties");
            LogManager.getLogManager().readConfiguration(loggingStream);

            // Register Grizzly-Specific Handler
            HttpServer server = HttpServer.createSimpleServer(null, port);
            server.getServerConfiguration().addHttpHandler(
                new GrizzlyApplicationHandler(applicationConfig), path);

            // Shutdown the server gracefully
            Runtime.getRuntime().addShutdownHook(new Thread(server::shutdownNow));

            server.start();
            LOG.info("Grizzly Server started. Stop the application using ^C.");

            Thread.currentThread().join();
        } catch (IOException | InterruptedException e) {
            LOG.log(Level.SEVERE, null, e);
        }
    }
}</code></pre>
<p>
   Details about handlers and how to integrate with servers are described in next section: <a href="./handler.html">Handlers</a>
</p>
</div>